(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["quiz"],{"18a7":function(e,t,r){e.exports=r.p+"img/mtg-colors.47172a72.png"},"2e44":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("quiz-container",{attrs:{format:e.format,total:10}})},a=[],s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"quiz-container"},[r(e.currentComponent,{tag:"component",attrs:{error:e.error},on:{restart:e.newGame}},[e._v(e._s(e.statusMessage))])],1)},c=[],o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.error?r("div",[r("h2",{staticClass:"error"},[e._v("Error Loading Quiz")]),r("router-link",{attrs:{to:"/"}},[e._v("Â« Back to Home")])],1):r("div",[r("h2",[e._v("Please Wait...")]),r("h3",[e._v("Loading your quiz")])])])},i=[],u={props:{error:{type:Boolean,default:!1}}},d=u,l=r("2877"),h=Object(l["a"])(d,o,i,!1,null,"5097c1c8",null),m=h.exports,f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("scores"),r("div",{staticClass:"status"},[e._t("default")],2),r("quiz")],1)},p=[],v=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",[e._v("Scores")]),r("h3",[e._v("Current Score : "+e._s(e.currentScore))]),e.showLast?r("p",[e._v("Last Score : "+e._s(e.lastScore))]):e._e(),r("p",[e._v("High Score : "+e._s(e.highScore))])])},S=[],C=r("2f62"),b={name:"Scores",props:{showLast:{type:Boolean,default:!0}},computed:{...Object(C["c"])("u",["lastScore","highScore","currentScore"])}},g=b,_=Object(l["a"])(g,v,S,!1,null,"79eaddb9",null),x=_.exports,j=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"quiz-container"},[r("card",{attrs:{card:e.currentCard}}),r("names",{attrs:{nset:e.nameSet},on:{correct:e.incrementScore}})],1)},z=[],O=(r("ddb0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card"},[n("img",{staticClass:"art",class:{loaded:e.imgLoaded},attrs:{src:e.artSrc,alt:""},on:{load:function(t){return e.setLoaded(!0)},error:function(t){return e.setLoaded(!1)}}}),n("img",{staticClass:"loader",class:{loaded:e.imgLoaded},attrs:{src:r("18a7"),alt:""}})])}),q=[],L={name:"Card",props:{card:{type:Object,default:()=>{}}},data(){return{imgLoaded:!1}},computed:{artSrc(){var e,t,r;return null!==(e=null===(t=this.card)||void 0===t||null===(r=t.imageLinks)||void 0===r?void 0:r.art_crop)&&void 0!==e?e:""}},methods:{setLoaded(e){this.imgLoaded=e}},watch:{card(){this.imgLoaded=!1}}},w=L,k=(r("6ca7"),Object(l["a"])(w,O,q,!1,null,"184c7f1e",null)),y=k.exports,$=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"name-container",class:{complete:e.answered}},e._l(e.nset,(function(t,n){return r("button",{key:"name-"+n,ref:"nbuttons",refInFor:!0,staticClass:"name",attrs:{"data-name":t},on:{click:e.nameClick}},[e._v(e._s(t))])})),0)},Q=[],E={name:"Names",props:{nset:{type:Array,default:()=>[]}},data(){return{answered:!1}},inject:["checkCorrect","getCorrectIndex","nextCard"],methods:{nameClick(e){const t=e.target,r=t.dataset["name"];if(this.answered=!0,this.checkCorrect(r))t.classList.add("correct"),this.$emit("correct");else{const e=this.getCorrectIndex();this.$refs.nbuttons[e].classList.add("correct")}setTimeout(()=>{this.$refs.nbuttons.forEach(e=>e.classList.remove("correct")),this.answered=!1,this.nextCard()},1200)}}},I=E,M=(r("e3fd"),Object(l["a"])(I,$,Q,!1,null,"77ffdc9b",null)),A=M.exports,B={name:"Quiz",components:{Card:y,Names:A},computed:{...Object(C["c"])("q",["randomSet","names","qindex"]),...Object(C["c"])("u",["currentScore"]),nameSet(){var e;const t=[],r=new Set;if(null===(e=this.currentCard)||void 0===e?void 0:e.name){while(r.size<3)r.add(Math.floor(Math.random()*this.names.length));r.forEach(e=>{t.push(this.names[e])}),t.splice(Math.floor(4*Math.random()),0,this.currentCard.name)}return t},currentCard(){return-1==this.qindex?{}:this.randomSet[this.qindex]},cardPoint(){return this.randomSet.length?Math.round(100/this.randomSet.length):0}},methods:{...Object(C["b"])("u",["addCurrentScore"]),...Object(C["b"])("q",["incrementIndex"]),checkCorrect(e){return e==this.currentCard.name},getCorrectIndex(){let e=-1;return this.nameSet.some((t,r)=>{if(this.checkCorrect(t))return e=r,!0}),e},incrementScore(){this.addCurrentScore({points:this.cardPoint})}},provide(){return{checkCorrect:this.checkCorrect,getCorrectIndex:this.getCorrectIndex,nextCard:this.incrementIndex}}},H=B,P=(r("75f1"),Object(l["a"])(H,j,z,!1,null,"344ab351",null)),R=P.exports,G={name:"QuizActive",components:{Scores:x,Quiz:R}},N=G,J=Object(l["a"])(N,f,p,!1,null,"36c82d03",null),F=J.exports,T=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"status"},[e._t("default")],2),r("scores",{attrs:{showLast:!1}}),r("q-button",{nativeOn:{click:function(t){return e.playAgain(t)}}},[e._v("Play Again?")])],1)},W=[],D=r("9e52"),K={name:"QuizComplete",components:{Scores:x,QButton:D["a"]},computed:{...Object(C["c"])("u",["currentScore","highScore"])},methods:{...Object(C["b"])("u",["saveLastScore","saveHighScore"]),playAgain(){this.$emit("restart")}},mounted(){this.saveLastScore({score:this.currentScore}),this.currentScore>this.highScore&&this.saveHighScore({score:this.currentScore})}},U=K,V=Object(l["a"])(U,T,W,!1,null,"95575fb0",null),X=V.exports,Y={name:"QuizContainer",components:{QuizActive:F,QuizLoading:m,QuizComplete:X},props:{format:{type:String,default:"modern"},total:{type:Number,default:10}},computed:{...Object(C["c"])("q",["quizStatus","qindex","randomSet"]),...Object(C["c"])("u",["highScore","currentScore"]),ready(){return"ready"==this.quizStatus},error(){return"error"==this.quizStatus},currentComponent(){return!this.ready||this.error?m:-1===this.qindex?X:F},statusMessage(){return-1===this.qindex?"Quiz Complete":`${this.qindex+1} of ${this.randomSet.length}`}},methods:{...Object(C["b"])("q",["makeRandom","resetIndex","clearRandom"]),...Object(C["b"])("u",["clearCurrentScore"]),newGame(){this.clearRandom(),this.makeRandom({format:this.format,count:this.total})}},mounted(){this.clearCurrentScore(),this.newGame()},watch:{randomSet(){this.resetIndex()}}},Z=Y,ee=(r("89eb"),Object(l["a"])(Z,s,c,!1,null,"5faf3ac2",null)),te=ee.exports,re={name:"Quiz",components:{QuizContainer:te},props:{format:{default:"modern",type:String}}},ne=re,ae=Object(l["a"])(ne,n,a,!1,null,null,null);t["default"]=ae.exports},"4a4a":function(e,t,r){},"52f3":function(e,t,r){},"6ca7":function(e,t,r){"use strict";var n=r("4a4a"),a=r.n(n);a.a},"75f1":function(e,t,r){"use strict";var n=r("52f3"),a=r.n(n);a.a},"89eb":function(e,t,r){"use strict";var n=r("ed4b"),a=r.n(n);a.a},"954a":function(e,t,r){},e3fd:function(e,t,r){"use strict";var n=r("954a"),a=r.n(n);a.a},ed4b:function(e,t,r){}}]);
//# sourceMappingURL=quiz.d74809f0.js.map